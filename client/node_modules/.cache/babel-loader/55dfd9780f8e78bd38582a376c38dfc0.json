{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderPlaygroundPage = void 0;\n\nvar xss_1 = require(\"xss\");\n\nvar get_loading_markup_1 = require(\"./get-loading-markup\");\n\nvar filter = function (val) {\n  return xss_1.filterXSS(val, {\n    // @ts-ignore\n    whiteList: [],\n    stripIgnoreTag: true,\n    stripIgnoreTagBody: [\"script\"]\n  });\n};\n\nvar loading = get_loading_markup_1.default();\nvar reactPackageName = '@apollographql/graphql-playground-react';\n\nvar getCdnMarkup = function (_a) {\n  var version = _a.version,\n      _b = _a.cdnUrl,\n      cdnUrl = _b === void 0 ? '//cdn.jsdelivr.net/npm' : _b,\n      faviconUrl = _a.faviconUrl;\n\n  var buildCDNUrl = function (packageName, suffix) {\n    return filter(cdnUrl + \"/\" + packageName + (version ? \"@\" + version : '') + \"/\" + suffix || '');\n  };\n\n  return \"\\n    <link\\n      rel=\\\"stylesheet\\\"\\n      href=\\\"\" + buildCDNUrl(reactPackageName, 'build/static/css/index.css') + \"\\\"\\n    />\\n    \" + (typeof faviconUrl === 'string' ? \"<link rel=\\\"shortcut icon\\\" href=\\\"\" + filter(faviconUrl || '') + \"\\\" />\" : '') + \"\\n    \" + (faviconUrl === undefined ? \"<link rel=\\\"shortcut icon\\\" href=\\\"\" + buildCDNUrl(reactPackageName, 'build/favicon.png') + \"\\\" />\" : '') + \"\\n    <script\\n      src=\\\"\" + buildCDNUrl(reactPackageName, 'build/static/js/middleware.js') + \"\\\"\\n    ></script>\\n\";\n};\n\nvar renderConfig = function (config) {\n  return '<div id=\"playground-config\" style=\"display: none;\">' + xss_1.filterXSS(JSON.stringify(config), {\n    // @ts-ignore\n    whiteList: []\n  }) + '</div>';\n};\n\nfunction renderPlaygroundPage(options) {\n  var extendedOptions = __assign(__assign({}, options), {\n    canSaveConfig: false\n  }); // for compatibility\n\n\n  if (options.subscriptionsEndpoint) {\n    extendedOptions.subscriptionEndpoint = filter(options.subscriptionsEndpoint || '');\n  }\n\n  if (options.config) {\n    extendedOptions.configString = JSON.stringify(options.config, null, 2);\n  }\n\n  if (!extendedOptions.endpoint && !extendedOptions.configString) {\n    /* tslint:disable-next-line */\n    console.warn(\"WARNING: You didn't provide an endpoint and don't have a .graphqlconfig. Make sure you have at least one of them.\");\n  } else if (extendedOptions.endpoint) {\n    extendedOptions.endpoint = filter(extendedOptions.endpoint || '');\n  }\n\n  return \"\\n  <!DOCTYPE html>\\n  <html>\\n  <head>\\n    <meta charset=utf-8 />\\n    <meta name=\\\"viewport\\\" content=\\\"user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui\\\">\\n    <link href=\\\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Source+Code+Pro:400,700\\\" rel=\\\"stylesheet\\\">\\n    <title>\" + (filter(extendedOptions.title) || 'GraphQL Playground') + \"</title>\\n    \" + (extendedOptions.env === 'react' || extendedOptions.env === 'electron' ? '' : getCdnMarkup(extendedOptions)) + \"\\n  </head>\\n  <body>\\n    <style type=\\\"text/css\\\">\\n      html {\\n        font-family: \\\"Open Sans\\\", sans-serif;\\n        overflow: hidden;\\n      }\\n  \\n      body {\\n        margin: 0;\\n        background: #172a3a;\\n      }\\n  \\n      .playgroundIn {\\n        -webkit-animation: playgroundIn 0.5s ease-out forwards;\\n        animation: playgroundIn 0.5s ease-out forwards;\\n      }\\n  \\n      @-webkit-keyframes playgroundIn {\\n        from {\\n          opacity: 0;\\n          -webkit-transform: translateY(10px);\\n          -ms-transform: translateY(10px);\\n          transform: translateY(10px);\\n        }\\n        to {\\n          opacity: 1;\\n          -webkit-transform: translateY(0);\\n          -ms-transform: translateY(0);\\n          transform: translateY(0);\\n        }\\n      }\\n  \\n      @keyframes playgroundIn {\\n        from {\\n          opacity: 0;\\n          -webkit-transform: translateY(10px);\\n          -ms-transform: translateY(10px);\\n          transform: translateY(10px);\\n        }\\n        to {\\n          opacity: 1;\\n          -webkit-transform: translateY(0);\\n          -ms-transform: translateY(0);\\n          transform: translateY(0);\\n        }\\n      }\\n    </style>\\n    \" + loading.container + \"\\n    \" + renderConfig(extendedOptions) + \"\\n    <div id=\\\"root\\\" />\\n    <script type=\\\"text/javascript\\\">\\n      window.addEventListener('load', function (event) {\\n        \" + loading.script + \"\\n  \\n        const root = document.getElementById('root');\\n        root.classList.add('playgroundIn');\\n        const configText = document.getElementById('playground-config').innerText\\n        if(configText && configText.length) {\\n          try {\\n            GraphQLPlayground.init(root, JSON.parse(configText))\\n          }\\n          catch(err) {\\n            console.error(\\\"could not find config\\\")\\n          }\\n        }\\n      })\\n    </script>\\n  </body>\\n  </html>\\n\";\n}\n\nexports.renderPlaygroundPage = renderPlaygroundPage;","map":{"version":3,"sources":["../src/render-playground-page.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderPlaygroundPage = void 0;\nvar xss_1 = require(\"xss\");\nvar get_loading_markup_1 = require(\"./get-loading-markup\");\nvar filter = function (val) {\n    return xss_1.filterXSS(val, {\n        // @ts-ignore\n        whiteList: [],\n        stripIgnoreTag: true,\n        stripIgnoreTagBody: [\"script\"]\n    });\n};\nvar loading = get_loading_markup_1.default();\nvar reactPackageName = '@apollographql/graphql-playground-react';\nvar getCdnMarkup = function (_a) {\n    var version = _a.version, _b = _a.cdnUrl, cdnUrl = _b === void 0 ? '//cdn.jsdelivr.net/npm' : _b, faviconUrl = _a.faviconUrl;\n    var buildCDNUrl = function (packageName, suffix) { return filter(cdnUrl + \"/\" + packageName + (version ? \"@\" + version : '') + \"/\" + suffix || ''); };\n    return \"\\n    <link\\n      rel=\\\"stylesheet\\\"\\n      href=\\\"\" + buildCDNUrl(reactPackageName, 'build/static/css/index.css') + \"\\\"\\n    />\\n    \" + (typeof faviconUrl === 'string' ? \"<link rel=\\\"shortcut icon\\\" href=\\\"\" + filter(faviconUrl || '') + \"\\\" />\" : '') + \"\\n    \" + (faviconUrl === undefined ? \"<link rel=\\\"shortcut icon\\\" href=\\\"\" + buildCDNUrl(reactPackageName, 'build/favicon.png') + \"\\\" />\" : '') + \"\\n    <script\\n      src=\\\"\" + buildCDNUrl(reactPackageName, 'build/static/js/middleware.js') + \"\\\"\\n    ></script>\\n\";\n};\nvar renderConfig = function (config) {\n    return '<div id=\"playground-config\" style=\"display: none;\">' + xss_1.filterXSS(JSON.stringify(config), {\n        // @ts-ignore\n        whiteList: [],\n    }) + '</div>';\n};\nfunction renderPlaygroundPage(options) {\n    var extendedOptions = __assign(__assign({}, options), { canSaveConfig: false });\n    // for compatibility\n    if (options.subscriptionsEndpoint) {\n        extendedOptions.subscriptionEndpoint = filter(options.subscriptionsEndpoint || '');\n    }\n    if (options.config) {\n        extendedOptions.configString = JSON.stringify(options.config, null, 2);\n    }\n    if (!extendedOptions.endpoint && !extendedOptions.configString) {\n        /* tslint:disable-next-line */\n        console.warn(\"WARNING: You didn't provide an endpoint and don't have a .graphqlconfig. Make sure you have at least one of them.\");\n    }\n    else if (extendedOptions.endpoint) {\n        extendedOptions.endpoint = filter(extendedOptions.endpoint || '');\n    }\n    return \"\\n  <!DOCTYPE html>\\n  <html>\\n  <head>\\n    <meta charset=utf-8 />\\n    <meta name=\\\"viewport\\\" content=\\\"user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui\\\">\\n    <link href=\\\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Source+Code+Pro:400,700\\\" rel=\\\"stylesheet\\\">\\n    <title>\" + (filter(extendedOptions.title) || 'GraphQL Playground') + \"</title>\\n    \" + (extendedOptions.env === 'react' || extendedOptions.env === 'electron'\n        ? ''\n        : getCdnMarkup(extendedOptions)) + \"\\n  </head>\\n  <body>\\n    <style type=\\\"text/css\\\">\\n      html {\\n        font-family: \\\"Open Sans\\\", sans-serif;\\n        overflow: hidden;\\n      }\\n  \\n      body {\\n        margin: 0;\\n        background: #172a3a;\\n      }\\n  \\n      .playgroundIn {\\n        -webkit-animation: playgroundIn 0.5s ease-out forwards;\\n        animation: playgroundIn 0.5s ease-out forwards;\\n      }\\n  \\n      @-webkit-keyframes playgroundIn {\\n        from {\\n          opacity: 0;\\n          -webkit-transform: translateY(10px);\\n          -ms-transform: translateY(10px);\\n          transform: translateY(10px);\\n        }\\n        to {\\n          opacity: 1;\\n          -webkit-transform: translateY(0);\\n          -ms-transform: translateY(0);\\n          transform: translateY(0);\\n        }\\n      }\\n  \\n      @keyframes playgroundIn {\\n        from {\\n          opacity: 0;\\n          -webkit-transform: translateY(10px);\\n          -ms-transform: translateY(10px);\\n          transform: translateY(10px);\\n        }\\n        to {\\n          opacity: 1;\\n          -webkit-transform: translateY(0);\\n          -ms-transform: translateY(0);\\n          transform: translateY(0);\\n        }\\n      }\\n    </style>\\n    \" + loading.container + \"\\n    \" + renderConfig(extendedOptions) + \"\\n    <div id=\\\"root\\\" />\\n    <script type=\\\"text/javascript\\\">\\n      window.addEventListener('load', function (event) {\\n        \" + loading.script + \"\\n  \\n        const root = document.getElementById('root');\\n        root.classList.add('playgroundIn');\\n        const configText = document.getElementById('playground-config').innerText\\n        if(configText && configText.length) {\\n          try {\\n            GraphQLPlayground.init(root, JSON.parse(configText))\\n          }\\n          catch(err) {\\n            console.error(\\\"could not find config\\\")\\n          }\\n        }\\n      })\\n    </script>\\n  </body>\\n  </html>\\n\";\n}\nexports.renderPlaygroundPage = renderPlaygroundPage;\n//# sourceMappingURL=render-playground-page.js.map"]},"metadata":{},"sourceType":"script"}