{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dejay\\\\Documents\\\\UofT\\\\Project 3\\\\next-step\\\\next-step\\\\client\\\\src\\\\components\\\\Nav\\\\nav.js\";\nimport React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useQuestionContext } from \"../../utils/GlobalState\";\nimport { UPDATE_CATEGORIES, UPDATE_CURRENT_CATEGORY } from \"../../utils/actions\";\nimport { QUERY_CATEGORIES } from \"../../utils/queries\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport logoImage from \"./assets/images/Logo.png\";\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\nimport { BsPersonPlusFill, BsPersonCheckFill, BsFillPencilFill } from \"react-icons/bs\";\nimport \"./assets/css/nav.css\";\nimport Auth from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\n\nfunction NavBar() {\n  const [state, dispatch] = useQuestionContext();\n  const {\n    categories\n  } = state;\n  const {\n    loading,\n    data: categoryData\n  } = useQuery(QUERY_CATEGORIES);\n  useEffect(() => {\n    if (categoryData) {\n      console.log(categoryData);\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories\n      });\n      categoryData.categories.forEach(category => {\n        idbPromise(\"categories\", \"put\", category);\n      });\n    } else if (!loading) {\n      idbPromise(\"categories\", \"get\").then(categories => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories\n        });\n      });\n    }\n  }, [categoryData, loading, dispatch]);\n\n  const handleClick = id => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id\n    });\n  };\n\n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        expand: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarLogo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        as: Link,\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: logoImage,\n        className: \"d-inline-block align-top\",\n        width: \"60\",\n        height: \"60\",\n        alt: \"Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 41\n        }\n      }))), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        id: \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        className: \"me-auto my-2 my-lg-0\",\n        style: {\n          maxHeight: \"200px\"\n        },\n        navbarScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/geography8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 45\n        }\n      }, \"Grade 8 Geography\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/math8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 45\n        }\n      }, \"Grade 8 Math\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/history8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 45\n        }\n      }, \"Grade 8 History\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/science8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 45\n        }\n      }, \"Grade 8 Science\"))), /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/addQ\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 45\n        }\n      }, \" \", /*#__PURE__*/React.createElement(BsFillPencilFill, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 63\n        }\n      }), \" Add Question\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/\",\n        onClick: () => Auth.logout(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 45\n        }\n      }, \"Logout\"))))))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        expand: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarLogo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        as: Link,\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: logoImage,\n        className: \"d-inline-block align-top\",\n        width: \"60\",\n        height: \"60\",\n        alt: \"Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 41\n        }\n      }))), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        id: \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        className: \"me-auto my-2 my-lg-0\",\n        style: {\n          maxHeight: \"200px\"\n        },\n        navbarScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 37\n        }\n      }, categories.map(item => /*#__PURE__*/React.createElement(Nav.Link, {\n        key: item._id,\n        onClick: () => {\n          handleClick(item._id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 45\n        }\n      }, item.name))), /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 41\n        }\n      }, \" \", /*#__PURE__*/React.createElement(BsPersonPlusFill, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 45\n        }\n      }), \" Signup\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 41\n        }\n      }, \" \", /*#__PURE__*/React.createElement(BsPersonCheckFill, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 45\n        }\n      }), \" Login\")))))));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 12\n    }\n  }, showNavigation());\n}\n\nexport default NavBar;","map":{"version":3,"sources":["C:/Users/dejay/Documents/UofT/Project 3/next-step/next-step/client/src/components/Nav/nav.js"],"names":["React","useEffect","useQuery","useQuestionContext","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","QUERY_CATEGORIES","idbPromise","logoImage","Navbar","Nav","Container","BsPersonPlusFill","BsPersonCheckFill","BsFillPencilFill","Auth","Link","NavBar","state","dispatch","categories","loading","data","categoryData","console","log","type","forEach","category","then","handleClick","id","currentCategory","showNavigation","loggedIn","maxHeight","logout","map","item","_id","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { useQuestionContext } from \"../../utils/GlobalState\";\r\nimport {\r\n    UPDATE_CATEGORIES,\r\n    UPDATE_CURRENT_CATEGORY,\r\n} from \"../../utils/actions\";\r\nimport { QUERY_CATEGORIES } from \"../../utils/queries\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\n\r\nimport logoImage from \"./assets/images/Logo.png\";\r\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\r\nimport { BsPersonPlusFill, BsPersonCheckFill, BsFillPencilFill } from \"react-icons/bs\";\r\nimport \"./assets/css/nav.css\";\r\nimport Auth from \"../../utils/auth\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction NavBar() {\r\n    const [state, dispatch] = useQuestionContext();\r\n\r\n    const { categories } = state;\r\n\r\n    const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n    useEffect(() => {\r\n        if (categoryData) {\r\n            console.log(categoryData);\r\n            dispatch({\r\n                type: UPDATE_CATEGORIES,\r\n                categories: categoryData.categories,\r\n            });\r\n            categoryData.categories.forEach((category) => {\r\n                idbPromise(\"categories\", \"put\", category);\r\n            });\r\n        } else if (!loading) {\r\n            idbPromise(\"categories\", \"get\").then((categories) => {\r\n                dispatch({\r\n                    type: UPDATE_CATEGORIES,\r\n                    categories: categories,\r\n                });\r\n            });\r\n        }\r\n    }, [categoryData, loading, dispatch]);\r\n\r\n    const handleClick = (id) => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_CATEGORY,\r\n            currentCategory: id,\r\n        });\r\n    };\r\n\r\n    function showNavigation() {\r\n        if (Auth.loggedIn()) {\r\n            return (\r\n                <div>\r\n                    <div className=\"navBarContainer\">\r\n                        <Navbar expand=\"lg\">\r\n                            <Container fluid>\r\n                                <div className=\"navBarLogo\">\r\n                                    <Navbar.Brand as={Link} to={\"/\"}>\r\n                                        <img\r\n                                            src={logoImage}\r\n                                            className=\"d-inline-block align-top\"\r\n                                            width=\"60\"\r\n                                            height=\"60\"\r\n                                            alt=\"Home\"\r\n                                        />\r\n                                    </Navbar.Brand>\r\n                                </div>\r\n                                <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n                                <Navbar.Collapse id=\"navbarScroll\">\r\n                                    <Nav\r\n                                        className=\"me-auto my-2 my-lg-0\"\r\n                                        style={{ maxHeight: \"200px\" }}\r\n                                        navbarScroll\r\n                                    >\r\n                                        <Nav.Link>\r\n                                            <Link to=\"/geography8\">Grade 8 Geography</Link>\r\n                                        </Nav.Link>\r\n                                        <Nav.Link>\r\n                                            <Link to=\"/math8\">Grade 8 Math</Link>\r\n                                        </Nav.Link>\r\n                                        <Nav.Link>\r\n                                            <Link to=\"/history8\">Grade 8 History</Link>\r\n                                        </Nav.Link>\r\n                                        <Nav.Link>\r\n                                            <Link to=\"/science8\">Grade 8 Science</Link>\r\n                                        </Nav.Link>\r\n                                        {/* {categories.map(item => (\r\n                                            <a\r\n                                            key={item._id}\r\n                                            href=\"/categories\"  onClick={() => {\r\n                                                handleClick(item._id);\r\n                                              }}\r\n                                           >\r\n                                                {item.name}\r\n                                                \r\n                                            </a>\r\n                                        ))} */}\r\n\r\n                                        {/* href={\"/categories/\"+item_id} */}\r\n                                    </Nav>\r\n                                    <Nav>\r\n                                        <Nav.Link>\r\n                                            <Link to=\"/addQ\"> <BsFillPencilFill /> Add Question</Link>\r\n                                        </Nav.Link>\r\n                                        <Nav.Link>\r\n                                            <a href=\"/\" onClick={() => Auth.logout()}>\r\n                                                Logout\r\n                                            </a>\r\n                                        </Nav.Link>\r\n                                    </Nav>\r\n                                </Navbar.Collapse>\r\n                            </Container>\r\n                        </Navbar>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <div className=\"navBarContainer\">\r\n                        <Navbar expand=\"lg\">\r\n                            <Container fluid>\r\n                                <div className=\"navBarLogo\">\r\n                                    <Navbar.Brand as={Link} to={\"/\"}>\r\n                                        <img\r\n                                            src={logoImage}\r\n                                            className=\"d-inline-block align-top\"\r\n                                            width=\"60\"\r\n                                            height=\"60\"\r\n                                            alt=\"Home\"\r\n                                        />\r\n                                    </Navbar.Brand>\r\n                                </div>\r\n                                <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n                                <Navbar.Collapse id=\"navbarScroll\">\r\n                                    <Nav\r\n                                        className=\"me-auto my-2 my-lg-0\"\r\n                                        style={{ maxHeight: \"200px\" }}\r\n                                        navbarScroll\r\n                                    >\r\n                                        {categories.map((item) => (\r\n                                            <Nav.Link\r\n                                                key={item._id}\r\n                                                onClick={() => {\r\n                                                    handleClick(item._id);\r\n                                                }}\r\n                                            >\r\n                                                {item.name}\r\n                                            </Nav.Link>\r\n                                        ))}\r\n                                    </Nav>\r\n                                    <Nav>\r\n                                        <Link to=\"/signup\">\r\n                                            {\" \"}\r\n                                            <BsPersonPlusFill /> Signup\r\n                                        </Link>\r\n                                        <Link to=\"/login\">\r\n                                            {\" \"}\r\n                                            <BsPersonCheckFill /> Login\r\n                                        </Link>\r\n                                    </Nav>\r\n                                </Navbar.Collapse>\r\n                            </Container>\r\n                        </Navbar>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return <div>{showNavigation()}</div>;\r\n}\r\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}