{"ast":null,"code":"var jsencoding = require('../deps/encoding/encoding');\n\nvar RE_ENCODED = /%([a-fA-F0-9]{2})/g;\n\nfunction encodedReplacer(match, byte) {\n  return String.fromCharCode(parseInt(byte, 16));\n}\n\nfunction parseParams(str) {\n  var res = [],\n      state = 'key',\n      charset = '',\n      inquote = false,\n      escaping = false,\n      p = 0,\n      tmp = '';\n\n  for (var i = 0, len = str.length; i < len; ++i) {\n    if (str[i] === '\\\\' && inquote) {\n      if (escaping) escaping = false;else {\n        escaping = true;\n        continue;\n      }\n    } else if (str[i] === '\"') {\n      if (!escaping) {\n        if (inquote) {\n          inquote = false;\n          state = 'key';\n        } else inquote = true;\n\n        continue;\n      } else escaping = false;\n    } else {\n      if (escaping && inquote) tmp += '\\\\';\n      escaping = false;\n\n      if ((state === 'charset' || state === 'lang') && str[i] === \"'\") {\n        if (state === 'charset') {\n          state = 'lang';\n          charset = tmp.substring(1);\n        } else state = 'value';\n\n        tmp = '';\n        continue;\n      } else if (state === 'key' && (str[i] === '*' || str[i] === '=') && res.length) {\n        if (str[i] === '*') state = 'charset';else state = 'value';\n        res[p] = [tmp, undefined];\n        tmp = '';\n        continue;\n      } else if (!inquote && str[i] === ';') {\n        state = 'key';\n\n        if (charset) {\n          if (tmp.length) {\n            tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer), 'binary', charset);\n          }\n\n          charset = '';\n        }\n\n        if (res[p] === undefined) res[p] = tmp;else res[p][1] = tmp;\n        tmp = '';\n        ++p;\n        continue;\n      } else if (!inquote && (str[i] === ' ' || str[i] === '\\t')) continue;\n    }\n\n    tmp += str[i];\n  }\n\n  if (charset && tmp.length) {\n    tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer), 'binary', charset);\n  }\n\n  if (res[p] === undefined) {\n    if (tmp) res[p] = tmp;\n  } else res[p][1] = tmp;\n\n  return res;\n}\n\n;\nexports.parseParams = parseParams;\n\nfunction decodeText(text, textEncoding, destEncoding) {\n  var ret;\n\n  if (text && jsencoding.encodingExists(destEncoding)) {\n    try {\n      ret = jsencoding.TextDecoder(destEncoding).decode(Buffer.from(text, textEncoding));\n    } catch (e) {}\n  }\n\n  return typeof ret === 'string' ? ret : text;\n}\n\nexports.decodeText = decodeText;\nvar HEX = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    RE_PLUS = /\\+/g;\n\nfunction Decoder() {\n  this.buffer = undefined;\n}\n\nDecoder.prototype.write = function (str) {\n  // Replace '+' with ' ' before decoding\n  str = str.replace(RE_PLUS, ' ');\n  var res = '';\n  var i = 0,\n      p = 0,\n      len = str.length;\n\n  for (; i < len; ++i) {\n    if (this.buffer !== undefined) {\n      if (!HEX[str.charCodeAt(i)]) {\n        res += '%' + this.buffer;\n        this.buffer = undefined;\n        --i; // retry character\n      } else {\n        this.buffer += str[i];\n        ++p;\n\n        if (this.buffer.length === 2) {\n          res += String.fromCharCode(parseInt(this.buffer, 16));\n          this.buffer = undefined;\n        }\n      }\n    } else if (str[i] === '%') {\n      if (i > p) {\n        res += str.substring(p, i);\n        p = i;\n      }\n\n      this.buffer = '';\n      ++p;\n    }\n  }\n\n  if (p < len && this.buffer === undefined) res += str.substring(p);\n  return res;\n};\n\nDecoder.prototype.reset = function () {\n  this.buffer = undefined;\n};\n\nexports.Decoder = Decoder;\n\nfunction basename(path) {\n  if (typeof path !== 'string') return '';\n\n  for (var i = path.length - 1; i >= 0; --i) {\n    switch (path.charCodeAt(i)) {\n      case 0x2F: // '/'\n\n      case 0x5C:\n        // '\\'\n        path = path.slice(i + 1);\n        return path === '..' || path === '.' ? '' : path;\n    }\n  }\n\n  return path === '..' || path === '.' ? '' : path;\n}\n\nexports.basename = basename;","map":{"version":3,"sources":["C:/Users/Sallam/Desktop/projects/next-step/server/node_modules/busboy/lib/utils.js"],"names":["jsencoding","require","RE_ENCODED","encodedReplacer","match","byte","String","fromCharCode","parseInt","parseParams","str","res","state","charset","inquote","escaping","p","tmp","i","len","length","substring","undefined","decodeText","replace","exports","text","textEncoding","destEncoding","ret","encodingExists","TextDecoder","decode","Buffer","from","e","HEX","RE_PLUS","Decoder","buffer","prototype","write","charCodeAt","reset","basename","path","slice"],"mappings":"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","sourcesContent":["var jsencoding = require('../deps/encoding/encoding');\n\nvar RE_ENCODED = /%([a-fA-F0-9]{2})/g;\nfunction encodedReplacer(match, byte) {\n  return String.fromCharCode(parseInt(byte, 16));\n}\nfunction parseParams(str) {\n  var res = [],\n      state = 'key',\n      charset = '',\n      inquote = false,\n      escaping = false,\n      p = 0,\n      tmp = '';\n\n  for (var i = 0, len = str.length; i < len; ++i) {\n    if (str[i] === '\\\\' && inquote) {\n      if (escaping)\n        escaping = false;\n      else {\n        escaping = true;\n        continue;\n      }\n    } else if (str[i] === '\"') {\n      if (!escaping) {\n        if (inquote) {\n          inquote = false;\n          state = 'key';\n        } else\n          inquote = true;\n        continue;\n      } else\n        escaping = false;\n    } else {\n      if (escaping && inquote)\n        tmp += '\\\\';\n      escaping = false;\n      if ((state === 'charset' || state === 'lang') && str[i] === \"'\") {\n        if (state === 'charset') {\n          state = 'lang';\n          charset = tmp.substring(1);\n        } else\n          state = 'value';\n        tmp = '';\n        continue;\n      } else if (state === 'key'\n                 && (str[i] === '*' || str[i] === '=')\n                 && res.length) {\n        if (str[i] === '*')\n          state = 'charset';\n        else\n          state = 'value';\n        res[p] = [tmp, undefined];\n        tmp = '';\n        continue;\n      } else if (!inquote && str[i] === ';') {\n        state = 'key';\n        if (charset) {\n          if (tmp.length) {\n            tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer),\n                             'binary',\n                             charset);\n          }\n          charset = '';\n        }\n        if (res[p] === undefined)\n          res[p] = tmp;\n        else\n          res[p][1] = tmp;\n        tmp = '';\n        ++p;\n        continue;\n      } else if (!inquote && (str[i] === ' ' || str[i] === '\\t'))\n        continue;\n    }\n    tmp += str[i];\n  }\n  if (charset && tmp.length) {\n    tmp = decodeText(tmp.replace(RE_ENCODED, encodedReplacer),\n                     'binary',\n                     charset);\n  }\n\n  if (res[p] === undefined) {\n    if (tmp)\n      res[p] = tmp;\n  } else\n    res[p][1] = tmp;\n\n  return res;\n};\nexports.parseParams = parseParams;\n\n\nfunction decodeText(text, textEncoding, destEncoding) {\n  var ret;\n  if (text && jsencoding.encodingExists(destEncoding)) {\n    try {\n      ret = jsencoding.TextDecoder(destEncoding)\n                      .decode(Buffer.from(text, textEncoding));\n    } catch(e) {}\n  }\n  return (typeof ret === 'string' ? ret : text);\n}\nexports.decodeText = decodeText;\n\n\nvar HEX = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,\n  0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n], RE_PLUS = /\\+/g;\nfunction Decoder() {\n  this.buffer = undefined;\n}\nDecoder.prototype.write = function(str) {\n  // Replace '+' with ' ' before decoding\n  str = str.replace(RE_PLUS, ' ');\n  var res = '';\n  var i = 0, p = 0, len = str.length;\n  for (; i < len; ++i) {\n    if (this.buffer !== undefined) {\n      if (!HEX[str.charCodeAt(i)]) {\n        res += '%' + this.buffer;\n        this.buffer = undefined;\n        --i; // retry character\n      } else {\n        this.buffer += str[i];\n        ++p;\n        if (this.buffer.length === 2) {\n          res += String.fromCharCode(parseInt(this.buffer, 16));\n          this.buffer = undefined;\n        }\n      }\n    } else if (str[i] === '%') {\n      if (i > p) {\n        res += str.substring(p, i);\n        p = i;\n      }\n      this.buffer = '';\n      ++p;\n    }\n  }\n  if (p < len && this.buffer === undefined)\n    res += str.substring(p);\n  return res;\n};\nDecoder.prototype.reset = function() {\n  this.buffer = undefined;\n};\nexports.Decoder = Decoder;\n\n\nfunction basename(path) {\n  if (typeof path !== 'string')\n    return '';\n  for (var i = path.length - 1; i >= 0; --i) {\n    switch (path.charCodeAt(i)) {\n      case 0x2F: // '/'\n      case 0x5C: // '\\'\n        path = path.slice(i + 1);\n        return (path === '..' || path === '.' ? '' : path);\n    }\n  }\n  return (path === '..' || path === '.' ? '' : path);\n}\nexports.basename = basename;\n"]},"metadata":{},"sourceType":"script"}