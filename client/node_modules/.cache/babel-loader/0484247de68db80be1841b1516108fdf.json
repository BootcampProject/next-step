{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\dejay\\\\Documents\\\\UofT\\\\Project 3\\\\next-step\\\\next-step\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\dejay\\\\Documents\\\\UofT\\\\Project 3\\\\next-step\\\\next-step\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\dejay\\\\Documents\\\\UofT\\\\Project 3\\\\next-step\\\\next-step\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\dejay\\\\Documents\\\\UofT\\\\Project 3\\\\next-step\\\\next-step\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\dejay\\\\Documents\\\\UofT\\\\Project 3\\\\next-step\\\\next-step\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Form,Button,Card}from'react-bootstrap';import React,{useState,useEffect}from\"react\";import{useMutation}from'@apollo/react-hooks';import{ADD_NEWQUESTION}from\"../../utils/mutations\";import Auth from\"../../utils/auth\";function AddQuizQuestion(props){var _useState=useState({question:'',answer:''}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=useMutation(ADD_NEWQUESTION),_useMutation2=_slicedToArray(_useMutation,1),addquestion=_useMutation2[0];var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var mutationResponse,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();window.alert(\"Thank you. Your new question will be taken under advisement and review.\");console.log(formState.question);_context.prev=3;_context.next=6;return addquestion({variables:{question:formState.question,answer:formState.answer,category:formState.category}});case 6:mutationResponse=_context.sent;console.log(mutationResponse);token=mutationResponse.data.newquestion.token;Auth.login(token);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,12]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,dataname=_event$target.dataname,value=_event$target.value,id=_event$target.id;console.log(id);setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},id,value)));};useEffect(function(){console.log(formState);},[formState]);return/*#__PURE__*/React.createElement(\"div\",{style:{padding:'20px'}},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleFormSubmit},/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"question\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Question:\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,onChange:handleChange})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"answer\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Answer:\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,onChange:handleChange})),/*#__PURE__*/React.createElement(Form.Select,{\"aria-label\":\"Select a Category\",onChange:handleChange,id:\"category\"},/*#__PURE__*/React.createElement(\"option\",null,\"Open this select menu\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Grade 8 Geography\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"Grade 8 Math\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"Grade 8 Science\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"Grade 8 History\")),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\"))));}export default AddQuizQuestion;","map":{"version":3,"sources":["C:/Users/dejay/Documents/UofT/Project 3/next-step/next-step/client/src/components/AddQuiz/addQuiz.js"],"names":["Form","Button","Card","React","useState","useEffect","useMutation","ADD_NEWQUESTION","Auth","AddQuizQuestion","props","question","answer","formState","setFormState","addquestion","handleFormSubmit","event","preventDefault","window","alert","console","log","variables","category","mutationResponse","token","data","newquestion","login","handleChange","target","dataname","value","id","padding"],"mappings":"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","sourcesContent":["\nimport { Form, Button, Card } from 'react-bootstrap';\n\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation } from '@apollo/react-hooks';\nimport { ADD_NEWQUESTION } from \"../../utils/mutations\";\nimport Auth from \"../../utils/auth\";\n\nfunction AddQuizQuestion(props) {\n  const [formState, setFormState] = useState({ question: '', answer: '' });\n  const [addquestion] = useMutation(ADD_NEWQUESTION);\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    window.alert(\"Thank you. Your new question will be taken under advisement and review.\");\n    console.log(formState.question)\n    \n    try {\n        const mutationResponse = await addquestion({\n            variables: {\n              question: formState.question, answer: formState.answer, category: formState.category,\n            }\n          });\n          console.log(mutationResponse)\n          const token = mutationResponse.data.newquestion.token;\n          Auth.login(token);\n    } catch (err){console.log(err)}\n  };\n\n  const handleChange = event => {\n    const { dataname, value, id } = event.target;\n    console.log(id)\n    setFormState({\n      ...formState,\n      [id]: value\n    });\n  };\n\n  useEffect (() => {\n    console.log(formState)\n}, [formState])\n\n    return (\n        <div style={{ padding: '20px' }}>\n            <Card >\n                <Form onSubmit={handleFormSubmit}>\n                    <Form.Group className=\"mb-3\" controlId=\"question\">\n                        <Form.Label>Question:</Form.Label>\n                        <Form.Control as=\"textarea\" rows={3} onChange={handleChange} />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"answer\">\n                        <Form.Label>Answer:</Form.Label>\n                        <Form.Control as=\"textarea\" rows={3} onChange={handleChange} />\n                    </Form.Group>\n                    <Form.Select aria-label=\"Select a Category\" onChange={handleChange} id=\"category\">\n                        <option>Open this select menu</option>\n                        <option value=\"1\">Grade 8 Geography</option>\n                        <option value=\"2\">Grade 8 Math</option>\n                        <option value=\"3\">Grade 8 Science</option>\n                        <option value=\"4\">Grade 8 History</option>\n                    </Form.Select>\n                    <Button variant=\"primary\" type=\"submit\">\n                        Submit\n                    </Button>\n                </Form>\n            </Card>\n        </div>\n    );\n}\n\nexport default AddQuizQuestion;\n\n"]},"metadata":{},"sourceType":"module"}