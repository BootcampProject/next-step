{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sallam\\\\Desktop\\\\projects\\\\next-step\\\\client\\\\src\\\\components\\\\Nav\\\\nav.js\";\nimport React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useQuestionContext } from \"../../utils/GlobalState\";\nimport { UPDATE_CATEGORIES, UPDATE_CURRENT_CATEGORY } from \"../../utils/actions\";\nimport { QUERY_CATEGORIES } from \"../../utils/queries\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport logoImage from \"./assets/images/Logo.png\";\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\nimport { BsPersonPlusFill, BsPersonCheckFill } from \"react-icons/bs\";\nimport \"./assets/css/nav.css\";\nimport Auth from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\n\nfunction NavBar() {\n  const [state, dispatch] = useQuestionContext();\n  const {\n    categories\n  } = state;\n  const {\n    loading,\n    data: categoryData\n  } = useQuery(QUERY_CATEGORIES);\n  useEffect(() => {\n    if (categoryData) {\n      console.log(categoryData);\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories\n      });\n      categoryData.categories.forEach(category => {\n        idbPromise(\"categories\", \"put\", category);\n      });\n    } else if (!loading) {\n      idbPromise(\"categories\", \"get\").then(categories => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories\n        });\n      });\n    }\n  }, [categoryData, loading, dispatch]);\n\n  const handleClick = id => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id\n    });\n  };\n\n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        expand: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarLogo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        as: Link,\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: logoImage,\n        className: \"d-inline-block align-top\",\n        width: \"60\",\n        height: \"60\",\n        alt: \"Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        id: \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        className: \"me-auto my-2 my-lg-0\",\n        style: {\n          maxHeight: \"200px\"\n        },\n        navbarScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/geography8\",\n        style: {\n          textDecoration: \"none \",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 23\n        }\n      }, \"Grade 8 Geography\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/math8\",\n        style: {\n          textDecoration: \"none\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 23\n        }\n      }, \"Grade 8 Math\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/history8\",\n        style: {\n          textDecoration: \"none\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 23\n        }\n      }, \"Grade 8 History\")), /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/science8\",\n        style: {\n          textDecoration: \"none\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 23\n        }\n      }, \"Grade 8 Science\"))), /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/\",\n        onClick: () => Auth.logout(),\n        style: {\n          textDecoration: \"none\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 23\n        }\n      }, \"Logout\"))))))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        expand: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navBarLogo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        as: Link,\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: logoImage,\n        className: \"d-inline-block align-top\",\n        width: \"60\",\n        height: \"60\",\n        alt: \"Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        id: \"navbarScroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        className: \"me-auto my-2 my-lg-0\",\n        style: {\n          maxHeight: \"200px\"\n        },\n        navbarScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 19\n        }\n      }, categories.map(item => /*#__PURE__*/React.createElement(Nav.Link, {\n        key: item._id,\n        onClick: () => {\n          handleClick(item._id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 23\n        }\n      }, item.name))), /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }\n      }, \" \", /*#__PURE__*/React.createElement(BsPersonPlusFill, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 23\n        }\n      }), \" Signup\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }\n      }, \" \", /*#__PURE__*/React.createElement(BsPersonCheckFill, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 23\n        }\n      }), \" Login\")))))));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 10\n    }\n  }, showNavigation());\n}\n\nexport default NavBar;","map":{"version":3,"sources":["C:/Users/Sallam/Desktop/projects/next-step/client/src/components/Nav/nav.js"],"names":["React","useEffect","useQuery","useQuestionContext","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","QUERY_CATEGORIES","idbPromise","logoImage","Navbar","Nav","Container","BsPersonPlusFill","BsPersonCheckFill","Auth","Link","NavBar","state","dispatch","categories","loading","data","categoryData","console","log","type","forEach","category","then","handleClick","id","currentCategory","showNavigation","loggedIn","maxHeight","textDecoration","color","logout","map","item","_id","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,kBAAT,QAAmC,yBAAnC;AACA,SACEC,iBADF,EAEEC,uBAFF,QAGO,qBAHP;AAIA,SAASC,gBAAT,QAAiC,qBAAjC;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAEA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,QAAuC,iBAAvC;AACA,SAASC,gBAAT,EAA2BC,iBAA3B,QAAoD,gBAApD;AACA,OAAO,sBAAP;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,SAASC,MAAT,GAAkB;AAChB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,kBAAkB,EAA5C;AAEA,QAAM;AAAEgB,IAAAA;AAAF,MAAiBF,KAAvB;AAEA,QAAM;AAAEG,IAAAA,OAAF;AAAWC,IAAAA,IAAI,EAAEC;AAAjB,MAAkCpB,QAAQ,CAACI,gBAAD,CAAhD;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIqB,YAAJ,EAAkB;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAJ,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAErB,iBADC;AAEPe,QAAAA,UAAU,EAAEG,YAAY,CAACH;AAFlB,OAAD,CAAR;AAIAG,MAAAA,YAAY,CAACH,UAAb,CAAwBO,OAAxB,CAAiCC,QAAD,IAAc;AAC5CpB,QAAAA,UAAU,CAAC,YAAD,EAAe,KAAf,EAAsBoB,QAAtB,CAAV;AACD,OAFD;AAGD,KATD,MASO,IAAI,CAACP,OAAL,EAAc;AACnBb,MAAAA,UAAU,CAAC,YAAD,EAAe,KAAf,CAAV,CAAgCqB,IAAhC,CAAsCT,UAAD,IAAgB;AACnDD,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAErB,iBADC;AAEPe,UAAAA,UAAU,EAAEA;AAFL,SAAD,CAAR;AAID,OALD;AAMD;AACF,GAlBQ,EAkBN,CAACG,YAAD,EAAeF,OAAf,EAAwBF,QAAxB,CAlBM,CAAT;;AAoBA,QAAMW,WAAW,GAAIC,EAAD,IAAQ;AAC1BZ,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEpB,uBADC;AAEP0B,MAAAA,eAAe,EAAED;AAFV,KAAD,CAAR;AAID,GALD;;AAOA,WAASE,cAAT,GAA0B;AACxB,QAAIlB,IAAI,CAACmB,QAAL,EAAJ,EAAqB;AACnB,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD,CAAQ,KAAR;AAAc,QAAA,EAAE,EAAElB,IAAlB;AAAwB,QAAA,EAAE,EAAE,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAEP,SADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,KAAK,EAAC,IAHR;AAIE,QAAA,MAAM,EAAC,IAJT;AAKE,QAAA,GAAG,EAAC,MALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,eAYE,oBAAC,MAAD,CAAQ,MAAR;AAAe,yBAAc,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,eAaE,oBAAC,MAAD,CAAQ,QAAR;AAAiB,QAAA,EAAE,EAAC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AACE,QAAA,SAAS,EAAC,sBADZ;AAEE,QAAA,KAAK,EAAE;AAAE0B,UAAAA,SAAS,EAAE;AAAb,SAFT;AAGE,QAAA,YAAY,MAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE,oBAAC,GAAD,CAAK,IAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAC,aADL;AAEE,QAAA,KAAK,EAAE;AAAEC,UAAAA,cAAc,EAAE,OAAlB;AAA2BC,UAAAA,KAAK,EAAE;AAAlC,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CALF,eAaE,oBAAC,GAAD,CAAK,IAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAC,QADL;AAEE,QAAA,KAAK,EAAE;AAAED,UAAAA,cAAc,EAAE,MAAlB;AAA0BC,UAAAA,KAAK,EAAE;AAAjC,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAbF,eAqBE,oBAAC,GAAD,CAAK,IAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAC,WADL;AAEE,QAAA,KAAK,EAAE;AAAED,UAAAA,cAAc,EAAE,MAAlB;AAA0BC,UAAAA,KAAK,EAAE;AAAjC,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CArBF,eA6BE,oBAAC,GAAD,CAAK,IAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAC,WADL;AAEE,QAAA,KAAK,EAAE;AAAED,UAAAA,cAAc,EAAE,MAAlB;AAA0BC,UAAAA,KAAK,EAAE;AAAjC,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CA7BF,CADF,eAoDE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD,CAAK,IAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,GADP;AAEE,QAAA,OAAO,EAAE,MAAMtB,IAAI,CAACuB,MAAL,EAFjB;AAGE,QAAA,KAAK,EAAE;AAAEF,UAAAA,cAAc,EAAE;AAAlB,SAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,CApDF,CAbF,CADF,CADF,CADF,CADF;AAsFD,KAvFD,MAuFO;AACL,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD,CAAQ,KAAR;AAAc,QAAA,EAAE,EAAEpB,IAAlB;AAAwB,QAAA,EAAE,EAAE,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAEP,SADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,KAAK,EAAC,IAHR;AAIE,QAAA,MAAM,EAAC,IAJT;AAKE,QAAA,GAAG,EAAC,MALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,eAYE,oBAAC,MAAD,CAAQ,MAAR;AAAe,yBAAc,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,eAaE,oBAAC,MAAD,CAAQ,QAAR;AAAiB,QAAA,EAAE,EAAC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AACE,QAAA,SAAS,EAAC,sBADZ;AAEE,QAAA,KAAK,EAAE;AAAE0B,UAAAA,SAAS,EAAE;AAAb,SAFT;AAGE,QAAA,YAAY,MAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKGf,UAAU,CAACmB,GAAX,CAAgBC,IAAD,iBACd,oBAAC,GAAD,CAAK,IAAL;AACE,QAAA,GAAG,EAAEA,IAAI,CAACC,GADZ;AAEE,QAAA,OAAO,EAAE,MAAM;AACbX,UAAAA,WAAW,CAACU,IAAI,CAACC,GAAN,CAAX;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMGD,IAAI,CAACE,IANR,CADD,CALH,CADF,eAiBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,eAEE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,YADF,eAKE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,eAEE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,WALF,CAjBF,CAbF,CADF,CADF,CADF,CADF;AAkDD;AACF;;AAED,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMT,cAAc,EAApB,CAAP;AACD;;AACD,eAAehB,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useQuestionContext } from \"../../utils/GlobalState\";\nimport {\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n} from \"../../utils/actions\";\nimport { QUERY_CATEGORIES } from \"../../utils/queries\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nimport logoImage from \"./assets/images/Logo.png\";\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\nimport { BsPersonPlusFill, BsPersonCheckFill } from \"react-icons/bs\";\nimport \"./assets/css/nav.css\";\nimport Auth from \"../../utils/auth\";\n\nimport { Link } from \"react-router-dom\";\n\nfunction NavBar() {\n  const [state, dispatch] = useQuestionContext();\n\n  const { categories } = state;\n\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\n\n  useEffect(() => {\n    if (categoryData) {\n      console.log(categoryData);\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories,\n      });\n      categoryData.categories.forEach((category) => {\n        idbPromise(\"categories\", \"put\", category);\n      });\n    } else if (!loading) {\n      idbPromise(\"categories\", \"get\").then((categories) => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories,\n        });\n      });\n    }\n  }, [categoryData, loading, dispatch]);\n\n  const handleClick = (id) => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id,\n    });\n  };\n\n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return (\n        <div>\n          <div className=\"navBarContainer\">\n            <Navbar expand=\"lg\">\n              <Container fluid>\n                <div className=\"navBarLogo\">\n                  <Navbar.Brand as={Link} to={\"/\"}>\n                    <img\n                      src={logoImage}\n                      className=\"d-inline-block align-top\"\n                      width=\"60\"\n                      height=\"60\"\n                      alt=\"Home\"\n                    />\n                  </Navbar.Brand>\n                </div>\n                <Navbar.Toggle aria-controls=\"navbarScroll\" />\n                <Navbar.Collapse id=\"navbarScroll\">\n                  <Nav\n                    className=\"me-auto my-2 my-lg-0\"\n                    style={{ maxHeight: \"200px\" }}\n                    navbarScroll\n                  >\n                    <Nav.Link>\n                      <Link\n                        to=\"/geography8\"\n                        style={{ textDecoration: \"none \", color: \"black\" }}\n                      >\n                        Grade 8 Geography\n                      </Link>\n                    </Nav.Link>\n                    <Nav.Link>\n                      <Link\n                        to=\"/math8\"\n                        style={{ textDecoration: \"none\", color: \"black\" }}\n                      >\n                        Grade 8 Math\n                      </Link>\n                    </Nav.Link>\n                    <Nav.Link>\n                      <Link\n                        to=\"/history8\"\n                        style={{ textDecoration: \"none\", color: \"black\" }}\n                      >\n                        Grade 8 History\n                      </Link>\n                    </Nav.Link>\n                    <Nav.Link>\n                      <Link\n                        to=\"/science8\"\n                        style={{ textDecoration: \"none\", color: \"black\" }}\n                      >\n                        Grade 8 Science\n                      </Link>\n                    </Nav.Link>\n                    {/* {categories.map(item => (\n                                            <a\n                                            key={item._id}\n                                            href=\"/categories\"  onClick={() => {\n                                                handleClick(item._id);\n                                              }}\n                                           >\n                                                {item.name}\n                                                \n                                            </a>\n                                        ))} */}\n\n                    {/* href={\"/categories/\"+item_id} */}\n                  </Nav>\n                  <Nav>\n                    <Nav.Link>\n                      <a\n                        href=\"/\"\n                        onClick={() => Auth.logout()}\n                        style={{ textDecoration: \"none\" }}\n                      >\n                        Logout\n                      </a>\n                    </Nav.Link>\n                  </Nav>\n                </Navbar.Collapse>\n              </Container>\n            </Navbar>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <div className=\"navBarContainer\">\n            <Navbar expand=\"lg\">\n              <Container fluid>\n                <div className=\"navBarLogo\">\n                  <Navbar.Brand as={Link} to={\"/\"}>\n                    <img\n                      src={logoImage}\n                      className=\"d-inline-block align-top\"\n                      width=\"60\"\n                      height=\"60\"\n                      alt=\"Home\"\n                    />\n                  </Navbar.Brand>\n                </div>\n                <Navbar.Toggle aria-controls=\"navbarScroll\" />\n                <Navbar.Collapse id=\"navbarScroll\">\n                  <Nav\n                    className=\"me-auto my-2 my-lg-0\"\n                    style={{ maxHeight: \"200px\" }}\n                    navbarScroll\n                  >\n                    {categories.map((item) => (\n                      <Nav.Link\n                        key={item._id}\n                        onClick={() => {\n                          handleClick(item._id);\n                        }}\n                      >\n                        {item.name}\n                      </Nav.Link>\n                    ))}\n                  </Nav>\n                  <Nav>\n                    <Link to=\"/signup\">\n                      {\" \"}\n                      <BsPersonPlusFill /> Signup\n                    </Link>\n                    <Link to=\"/login\">\n                      {\" \"}\n                      <BsPersonCheckFill /> Login\n                    </Link>\n                  </Nav>\n                </Navbar.Collapse>\n              </Container>\n            </Navbar>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  return <div>{showNavigation()}</div>;\n}\nexport default NavBar;\n"]},"metadata":{},"sourceType":"module"}